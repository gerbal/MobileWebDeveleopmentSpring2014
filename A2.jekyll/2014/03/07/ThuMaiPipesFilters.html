<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>Thu-Mai's Pipes and Filters</title>
    <meta name="viewport" content="width=device-width">

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/spring2014/css/syntax.css">
    <link rel="stylesheet" type="text/css" href="/spring2014/css/monokai.css">
    <link rel="stylesheet" type="text/css" href="/spring2014/css/xq-light.css">
    <link rel="stylesheet" type="text/css" href="/spring2014/css/codemirror.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/spring2014/css/main.css">
    <link rel="shortcut icon" href="/spring2014/favicon.ico">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
    <script src="/spring2014/js/date-cs.js" type="text/javascript"></script>
    
    <!--Code Mirror and Console scripts-->
    <script type="text/javascript">
        var idmods = new Array();
    </script>
</head>

<body>
    <!-- Ribbon -->

    <img style="position: absolute; top: 0; right: 0; border: 0; height: 135px; width: 135px; z-index:10; pointer-events:none;"  src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub">
    <svg style="position: absolute; top: 0; right: 0; border: 0; z-index:15;" version="1.1" pointer-events="none" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  width="135px" height="135px" viewBox="0 0 135 135" enable-background="new 0 0 135 135" xml:space="preserve">
      <a xlink:href="https://github.com/silshack/spring2014" pointer-events="painted" >
        <polygon opacity="00" fill="purple" stroke="#000000" stroke-miterlimit="10" points="135,0 0,0 135,135 " />
      </a>
    </svg>

    <div class="container">
        <div class="site">
            <div class="header">
                <h1 class="title"><a href="/spring2014/">SILShack Spring 2014</a></h1>
                <p>
                    
                    <a class="extra" href="/spring2014/syllabus.html">syllabus</a>
                    
                    <a class="extra" href="/spring2014/schedule.html">schedule</a>
                    
                    <a class="extra" href="/spring2014/exercises.html">exercises</a>
                    
                    <a class="extra" href="/spring2014/how-to.html">how-to</a>
                    
                    <a class="extra" href="/spring2014/people.html">people</a>
                    
                    <a class="extra" href="/spring2014/feedback.html">feedback</a>
                    
                    <a class="extra" href="/spring2014/music.html">music</a>
                      
                    <a class="extra" href="/spring2014/console.html">console</a>
                     
                </p>
            </div>
            <div class="content">
            <h2>Thu-Mai's Pipes and Filters</h2>

<p>


by 


    
        
		
        	Thu-Mai Christian
        
    


</p> <!-- /.byline -->

<p class="meta">07 Mar 2014</p>

<div class="post">
<p>This week, we learned some pretty cool Unix commands to help understand how we can combine programs to create more efficient code.  Going through the Pipes and Filters exercise reminded me a bit of programming in R in terms of generating file objects.  It&#39;s interesting to see how each exercise has actually given me a greater ability to <strong>decode</strong> unfamiliar programs. I guess fluency is the recurring theme.
No need for intimidation; it seems that learning different programming languages is all about putting the pieces together.  No matter the shape of each piece, they all fit together...somehow.</p>

<p>For this week&#39;s exercise, I re-read the assignment carefully to get familiar with each of the pieces of the shell commands the lesson introduced. For the pipes, I wanted to see what each process did, so I broke the command apart, then add each process one at a time.  This was a very useful approach not only to figure out what the processes did, but also to see the behavior of each when appended to the command.  It was easy to see how the process applied to the output generated by the preceding process.  Fun!</p>

<h1 id="toc_0">Challenges</h1>

<p><strong>1. Explain the effect of <code>-n</code> on the <code>sort -n</code> command.</strong></p>

<p>By including <code>-n</code> in the <code>sort</code> command, the inputs are treated as numerical values rather than strings. Thus, the inputs are sorted numerically. Without <code>-n</code>, the inputs are treated as strings and are ordered as such.</p>

<hr>

<p><strong>2. What is the difference between <code>wc -1 &lt; mydata.dat</code> and <code>wc -1 mydata.dat</code>?</strong></p>

<p>To output the number of lines in the <code>mydata.dat</code> file, we use the <code>wc -1 mydata.dat</code> command.  By adding <code>&lt;</code> to create the command <code>wc -1 &lt; mydata.dat</code>, the program opens and reads from the <code>mydata.dat</code> file to process the line count. The program sends the contents of <code>mydata.dat</code> to <code>wc</code>&#39;s standard input. This is referred to as <em>redirecting input</em>.  </p>

<hr>

<p><strong>3. Why do you think <code>uniq</code> only removes <em>adjacent</em> duplicated lines? What other command could you combine with it to remove all duplicated lines?</strong></p>

<p>Rather than reading the contents of the entire file before removing duplicates, <code>uniq</code> compares lines as it reads them, according to <a href="http://www.ibm.com/developerworks/library/l-tiptex6/">this</a>.  When considering large data files, the processing required to read through the entire file and compare each line to every other line would likely take a prohibitive amount of processing effort and time.  By sorting the list first, <code>uniq</code> is able to do its work as it works its way down the list. </p>

<p>To remove all duplicated lines, you would add <code>-u</code> to the command to create <code>uniq -u salmon.txt</code>.  You could also use the <code>sort -u salmon.txt</code> command.
In a <strong>pipe</strong>, you could use <code>sort salmon.txt | uniq</code>, which first sorts the list so that duplicates are consecutive. <code>uniq</code> will then recognize and remove the adjacent-occurring duplicate lines.
The output of these commands is:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">coho
steelhead
</code></pre></div>
<hr>

<p><strong>4. What text passes through each of the pipes and the final redirect in the pipeline <code>cat animals.txt | head -5 | tail -3 | sort -r &gt; final.txt</code>?</strong></p>

<p>This pipeline command tells the shell to reverse sort the last 3 lines of the top 5 lines of <code>animals.txt</code>, and generate the file <code>final.txt</code> containing the output text below:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">2012-11-06,rabbit
2012-11-06,deer
2012-11-05,raccoon
</code></pre></div>
<hr>

<p><strong>5. What other command(s) could be added to <code>cut -d , -f 2 animals.txt</code> in a pipeline to find out what animals the file contains (without any duplicates in their names)?</strong></p>

<p>A deduped list of animals can be generated using the pipeline command: <code>cut -d , -f 2 animals.txt | sort -u</code>.  <code>sort -u</code> sorts and pulls the unique lines from the output of the preceding <code>cut</code> command, resulting in the following output:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">bear                                                                                                                                                                                            
deer                                                                                                                                                                                            
fox                                                                                                                                                                                             
rabbit                                                                                                                                                                                          
raccoon
</code></pre></div>
<hr>

<hr>

</div>

<div class="end">
	
		
	Thu-Mai is a SILS PhD student and a data archivist at the Odum Institute. I will solve all of your data management problems. Find <strong>Thu-Mai Christian</strong> on <a href="http://twitter.com/tl_christian">Twitter</a>, <a href="http://github.com/tlchristian">Github</a>, and <a href="">on the web</a>. <br />

	
	
</div>

<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'silshack'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

            </div>
            <div class="footer">
                <div class="contact">
                    <p>
                        INLS 560 - "Programming for Information Professionals"
                    </p>
                    <p>
                        Another <a href="http://github.com/silshack/professorjekyll">silshack</a> by <a href="http://twitter.com/hauspoor/">@hauspoor</a> & friends
                        <br />
                    </p>
                    <p>
                        This page was generated on
                        <script type="text/javascript">
                            var date = new Date('03/27/14 16:19:53 -0400');
                            document.write(date.toLocaleDateString() + " " + date.toLocaleTimeString())
                        </script>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- /container -->
    <!-- Script imports at bottom to decrease page-load-time-->
    <script src="http://www.skulpt.org/static/skulpt.min.js" type="text/javascript"></script>
    <script src="http://www.skulpt.org/static/skulpt-stdlib.js" type="text/javascript"></script>
    <script src="/spring2014/js/codemirrorepl.js" type="text/javascript"></script>
    <script src="/spring2014/js/python.js" type="text/javascript"></script>
    <script src="/spring2014/js/codemirror/js/bash.js" type="text/javascript"></script>
    <script src="/spring2014/js/editor.js" type="text/javascript"></script>


</body>
<script src="/spring2014/js/date-cs.js" type="text/javascript"></script>

</html>
